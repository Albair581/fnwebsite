---
import SiteLayout from "../../../layouts/SiteLayout.astro";
import {
  commonCopy,
  guidePagesCopy,
  localePath,
  supportedLocales,
  type SiteLocale,
} from "../../../lib/site-copy";

export function getStaticPaths() {
  return supportedLocales.map((locale) => ({
    params: { locale },
  }));
}

const locale = Astro.params.locale as SiteLocale;
const common = commonCopy[locale];
const copy = guidePagesCopy[locale].about;
const aboutNav = common.aboutNav;
---

<SiteLayout
  locale={locale}
  title={`${copy.metaTitle} | ${common.appName}`}
  description={copy.metaDescription}
>
  <section class="page-hero page-hero--compact">
    <div>
      <p class="eyebrow">{common.aboutSectionEyebrow}</p>
      <h1>{copy.title}</h1>
      <p class="lead">{copy.intro}</p>
      <nav class="subnav">
        <a href={localePath(locale, "about")} data-active="true">{aboutNav.overview}</a>
        <a href={localePath(locale, "about/tos")} data-active="false">{aboutNav.tos}</a>
        <a href={localePath(locale, "about/pp")} data-active="false">{aboutNav.pp}</a>
        <a href={localePath(locale, "about/contact-us")} data-active="false">{aboutNav.contact}</a>
      </nav>
    </div>
  </section>

  <section class="section-panel">
    <h2>{copy.sectionsTitle}</h2>
    <div class="guide-grid">
      {
        copy.sections.map((item) => (
          <article class="guide-card">
            <h3>{item.title}</h3>
            <p>{item.prompt}</p>
          </article>
        ))
      }
    </div>
  </section>

  <!-- <section class="section-panel">
    <p class="section-intro">{copy.note}</p>
  </section> -->
</SiteLayout>
