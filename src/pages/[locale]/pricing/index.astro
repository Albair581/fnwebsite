---
import SiteLayout from "../../../layouts/SiteLayout.astro";
import {
  commonCopy,
  pricingCopy,
  supportedLocales,
  type SiteLocale,
} from "../../../lib/site-copy";

export function getStaticPaths() {
  return supportedLocales.map((locale) => ({
    params: { locale },
  }));
}

const locale = Astro.params.locale as SiteLocale;
const common = commonCopy[locale];
const copy = pricingCopy[locale];
---

<SiteLayout
  locale={locale}
  title={`${copy.metaTitle} | ${common.appName}`}
  description={copy.metaDescription}
>
  <section class="page-hero page-hero--compact">
    <div>
      <p class="eyebrow">{copy.eyebrow}</p>
      <h1>{copy.title}</h1>
      <!-- <p class="lead">{copy.subtitle}</p> -->
    </div>
  </section>

  <section class="section-panel">
    <div class="pricing-grid">
      {
        copy.plans.map((plan) => (
          <article class="pricing-card" data-highlighted={plan.highlighted ? "true" : "false"}>
            <h3>{plan.name}</h3>
            <p class="pricing-card__price">{plan.price}</p>
            <p class="pricing-card__billing">{plan.billing}</p>
            <p>{plan.description}</p>
            <ul class="detail-list">
              {
                plan.bullets.map((bullet) => (
                  <li>{bullet}</li>
                ))
              }
            </ul>
            {/* <a class="btn btn--ghost" href="#">{plan.cta}</a> */}
            {/* <p class="pricing-card__setup">{plan.setupHint}</p> */}
          </article>
        ))
      }
    </div>
  </section>

  <!-- TODO: COMMENT WHEN FINISHED -->
  <!-- <section class="section-panel">
    <h2>{common.pricingSetupTitle}</h2>
    <ul class="guide-list">
      <li>
        <strong>1</strong>
        <p>Edit plan names, prices, and bullets in `src/lib/site-copy.ts` under `pricingCopy`.</p>
      </li>
      <li>
        <strong>2</strong>
        <p>Replace each plan CTA `href` with your checkout, sign-up, or App Store deep link.</p>
      </li>
      <li>
        <strong>3</strong>
        <p>Keep exactly three plans unless you intentionally redesign the pricing layout.</p>
      </li>
    </ul>
    <p class="section-intro">{copy.note}</p>
  </section> -->
</SiteLayout>
